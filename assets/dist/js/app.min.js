/*!
 * Screen Reader Check Theme Version 1.0.0 (https://screen-reader-check.felix-arntz.me)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
!function(e,t,r){return"undefined"==typeof e.name?void console.error("Missing WP theme object. Aborting..."):(t.extend(e,{init:function(){e.settings.init_tooltips&&t.fn.tooltip&&e.apply('[rel="tooltip"]',function(e){e.tooltip()}),e.settings.init_popovers&&t.fn.popover&&e.apply('[rel="popover"]',function(e){e.popover()}),e.settings.init_fancybox&&t.fn.fancybox&&e.apply('a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".gif"]',function(e){e.each(function(){var e=t(this),r=e.parents(".gallery");0<r.length&&e.attr("rel",r.attr("id"))}).fancybox({type:"image",maxWidth:"90%",maxHeight:"90%",openEffect:"elastic",closeEffect:"elastic",nextEffect:"elastic",prevEffect:"elastic"})}),e.settings.wrap_embeds&&e.apply('iframe, embed, object, [class*="embed-responsive-item"]',function(e){e.each(function(){var e=t(this);if(!e.data("nowrap")){var r=e.data("ratio");if(r=r?r.split(":"):[e.width(),e.height()],2===r.length){var a=100*(r[1]/(1*r[0])),n=t('<div class="embed-responsive"></div>');n.css({"padding-bottom":""+a+"%"}),e.wrap(n).parent().parent().is("p")&&e.parent().unwrap()}}})});var r=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,a=navigator.userAgent.toLowerCase().indexOf("opera")>-1,n=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(r||a||n)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1),t("#screen-reader-check-form").length&&(window.screenReaderCheck?e.init_checker():console.error(e.i18n.plugin_missing))},init_checker:function(){var r=!1;t("#toggle-main-input").on("click",function(e){if(e.preventDefault(),!r){var a=t(this);r=!0;var n=a.data("target"),i=a.data("hide"),s=a.data("text"),d=a.text();t(n).find(".form-control").prop("required",!0).attr("aria-required","true").prop("disabled",!1).attr("aria-disabled","false"),t(i).find(".form-control").prop("required",!1).attr("aria-required","false").prop("disabled",!0).attr("aria-disabled","true"),t(i).fadeOut(400,function(){a.text(s).data("text",d).data("target",i).data("hide",n),t(n).fadeIn(400,function(){r=!1})})}});var a=!1;t("#screen-reader-check-form").on("submit",function(r){function n(e){e||(t("#url").val(""),t("#html").val(""),t("#advanced-options-content .form-control").val("")),t("#results-loader").fadeOut(400),a=!1,s.prop("disabled",!1).attr("aria-disabled","false")}if(r.preventDefault(),!a){e.remove_error();var i=t(this),s=t("#screen-reader-check-form-submit");a=!0;var d=e.get_form_values(i);s.prop("disabled",!0).attr("aria-disabled","true"),t("#results-loader").fadeIn(400),window.screenReaderCheck.createCheck(d).done(function(t){e.run_tests(t.id,n)}).fail(function(t){e.handle_error(t,n)})}})},run_tests:function(t,r){function a(n){n||(n={}),window.screenReaderCheck.runNextTest(t,n).done(function(t){t.check_complete?e.handle_test_result(t,r):e.handle_test_result(t,a)}).fail(function(t){e.handle_error(t,r)})}a()},handle_test_result:function(r,a){var n=!0,i="error"===r.type?"danger":r.type,s=t("#test_"+r.test_slug);s.length||(n=!1,s=t('<li id="test_'+r.test_slug+'"></li>')),s.hasClass("result-"+i)||s.attr("class","result result-"+i);var d=t('<div class="result-inner"></div>');d.append("<h4>"+r.test_title+"</h4>"),r.test_description&&r.test_description.length&&(d.append("<h5>"+e.i18n.test_description+"</h5>"),d.append("<p>"+r.test_description+"</p>"),d.append("<h5>"+e.i18n.test_results+"</h5>"));for(var o in r.messages)d.append("<p>"+r.messages[o]+"</p>");var l=[];for(var o in r.request_data)if(!r.request_data[o].value||"string"==typeof r.request_data[o].value&&!r.request_data[o].value.length){var p=t('<div class="form-group"></div>');p.append('<label for="test_'+r.test_slug+"-"+r.request_data[o].slug+'">'+r.request_data[o].label+"</label>"),p.append('<input type="'+r.request_data[o].type+'" id="test_'+r.test_slug+"-"+r.request_data[o].slug+'" name="'+r.request_data[o].slug+'" value="'+r.request_data[o]["default"]+'" class="form-control" aria-describedby="test_'+r.test_slug+"-"+r.request_data[o].slug+'_description" aria-required="true" required>'),p.append('<p id="test_'+r.test_slug+"-"+r.request_data[o].slug+'_description" class="form-text text-muted">'+r.request_data[o].description+"</p>"),l.push(p)}if(l.length){for(var u=parseInt(Math.ceil(l.length/2),10),c=t('<form method="post" novalidate"></form>'),f=t('<div class="row"></div>'),h=t('<div class="col-md-6"></div>'),v=t('<div class="col-md-6"></div>'),o=0;o<u;)h.append(l[o]),o++;for(;o<l.length;)v.append(l[o]),o++;f.append(h),f.append(v),c.append("<p><strong>"+e.i18n.action_required+"</strong><br>"+e.i18n.action_required_description+"</p>"),c.append(f),c.append('<div class="result-submit-wrap"><button type="submit" class="btn btn-primary">'+e.i18n.submit+"</button></div>"),d.append(c),t("#results-loader").fadeOut(400),c.on("submit",function(r){r.preventDefault(),c.find(".result-submit-wrap > button").prop("disabled",!0).attr("aria-disabled","true"),t("#results-loader").fadeIn(400),a(e.get_form_values(c))})}n?s.html(d):(s.append(d),t("#results-log").append(s)),l.length||a()},handle_error:function(r,a){var n=t("#screen-reader-check-error");n.length?n.find("p").html(r):(n=t('<div id="screen-reader-check-error" class="alert alert-danger alert-dismissible fade" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="'+e.i18n.close+'"><span aria-hidden="true">&times;</span></button><h4 class="alert-heading">'+e.i18n.an_error_occurred+"</h4><p>"+r+"</p></div>"),t("#screen-reader-check-form").append(n),n.addClass("in")),a(!0)},remove_error:function(){var e=t("#screen-reader-check-error");e.length&&e.remove()},get_form_values:function(e){var t=e.serializeArray(),r={};for(var a in t)if(t[a].name.search(/\[/g)>=0){var n=t[a].name.replace("]","").split("[");r[n[0]]||(r[n[0]]={}),r[n[0]][n[1]]=t[a].value}else r[t[a].name]=t[a].value;return r},apply:function(e,r){r(t(e)),t(document).on("wp_theme.insert_content",function(a,n){"undefined"!=typeof n&&r(t(n).find(e))})},insert:function(e){t(document).trigger("wp_theme.insert_content",[e])}}),void e.init())}(window.wp_theme||{},jQuery,wp);