/*!
 * Screen Reader Check Theme Version 1.0.0 (https://screen-reader-check.felix-arntz.me)
 * Licensed under GNU General Public License v3 (http://www.gnu.org/licenses/gpl-3.0.html)
 */
!function(e,t,a){return"undefined"==typeof e.name?void console.error("Missing WP theme object. Aborting..."):(t.extend(e,{init:function(){e.settings.init_tooltips&&t.fn.tooltip&&e.apply('[rel="tooltip"]',function(e){e.tooltip()}),e.settings.init_popovers&&t.fn.popover&&e.apply('[rel="popover"]',function(e){e.popover()}),e.settings.init_fancybox&&t.fn.fancybox&&e.apply('a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".gif"]',function(e){e.each(function(){var e=t(this),a=e.parents(".gallery");0<a.length&&e.attr("rel",a.attr("id"))}).fancybox({type:"image",maxWidth:"90%",maxHeight:"90%",openEffect:"elastic",closeEffect:"elastic",nextEffect:"elastic",prevEffect:"elastic"})}),e.settings.wrap_embeds&&e.apply('iframe, embed, object, [class*="embed-responsive-item"]',function(e){e.each(function(){var e=t(this);if(!e.data("nowrap")){var a=e.data("ratio");if(a=a?a.split(":"):[e.width(),e.height()],2===a.length){var r=100*(a[1]/(1*a[0])),n=t('<div class="embed-responsive"></div>');n.css({"padding-bottom":""+r+"%"}),e.wrap(n).parent().parent().is("p")&&e.parent().unwrap()}}})});var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,r=navigator.userAgent.toLowerCase().indexOf("opera")>-1,n=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||r||n)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e,t=location.hash.substring(1);/^[A-z0-9_-]+$/.test(t)&&(e=document.getElementById(t),e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus()))},!1),t("#screen-reader-check-form").length&&(window.screenReaderCheck?e.init_checker():console.error(e.i18n.plugin_missing))},init_checker:function(){var a=!1;t("#toggle-main-input").on("click",function(e){if(e.preventDefault(),!a){var r=t(this);a=!0;var n=r.data("target"),s=r.data("hide"),i=r.data("text"),d=r.text();t(n).find(".form-control").prop("required",!0).attr("aria-required","true").prop("disabled",!1).attr("aria-disabled","false"),t(s).find(".form-control").prop("required",!1).attr("aria-required","false").prop("disabled",!0).attr("aria-disabled","true"),t(s).fadeOut(400,function(){r.text(i).data("text",d).data("target",s).data("hide",n),t(n).fadeIn(400,function(){a=!1})})}});var r=!1;t("#screen-reader-check-form").on("submit",function(a){function n(e){e||(t("#url").val(""),t("#html").val(""),t("#advanced-options-content .form-control").val("")),t("#results-loader").fadeOut(400),r=!1,i.prop("disabled",!1).attr("aria-disabled","false")}if(a.preventDefault(),!r){e.remove_error();var s=t(this),i=t("#screen-reader-check-form-submit");r=!0;var d=e.get_form_values(s);i.prop("disabled",!0).attr("aria-disabled","true"),t("#results-loader").fadeIn(400),window.screenReaderCheck.createCheck(d).done(function(t){e.run_tests(t.id,n)}).fail(function(t){e.handle_error(t,n)})}})},run_tests:function(t,a){function r(n){n||(n={}),window.screenReaderCheck.runNextTest(t,n).done(function(t){t.check_complete?e.handle_test_result(t,a):e.handle_test_result(t,r)}).fail(function(t){e.handle_error(t,a)})}r()},handle_test_result:function(a,r){var n=!0,s="error"===a.type?"danger":a.type,i=t("#test_"+a.test_slug);i.length||(n=!1,i=t('<li id="test_'+a.test_slug+'"></li>')),i.hasClass("result-"+s)||i.attr("class","result result-"+s);var d=t('<div class="result-inner"></div>');d.append("<h4>"+a.test_title+"</h4>"),a.test_description&&a.test_description.length&&(d.append("<h5>"+e.i18n.test_description+"</h5>"),d.append("<p>"+a.test_description+"</p>"),d.append("<h5>"+e.i18n.test_results+"</h5>"));for(var o in a.messages)d.append("<p>"+a.messages[o]+"</p>");var l=[];for(var o in a.request_data)if(!a.request_data[o].value||"string"==typeof a.request_data[o].value&&!a.request_data[o].value.length){var u=t('<div class="form-group"></div>');if(u.append('<label for="test_'+a.test_slug+"-"+a.request_data[o].slug+'">'+a.request_data[o].label+"</label>"),"select"===a.request_data[o].type){var p=t('<select id="test_'+a.test_slug+"-"+a.request_data[o].slug+'" name="'+a.request_data[o].slug+'" class="form-control" aria-describedby="test_'+a.test_slug+"-"+a.request_data[o].slug+'_description" aria-required="true" required></select>');if(a.request_data[o].options&&a.request_data[o].options.length)for(var c in a.request_data[o].options)p.append('<option value="'+a.request_data[o].options[c].value+'"'+(a.request_data[o].options[c].value===a.request_data[o]["default"]?" selected":"")+">"+a.request_data[o].options[c].label+"</option>");u.append(p)}else u.append('<input type="'+a.request_data[o].type+'" id="test_'+a.test_slug+"-"+a.request_data[o].slug+'" name="'+a.request_data[o].slug+'" value="'+a.request_data[o]["default"]+'" class="form-control" aria-describedby="test_'+a.test_slug+"-"+a.request_data[o].slug+'_description" aria-required="true" required>');u.append('<p id="test_'+a.test_slug+"-"+a.request_data[o].slug+'_description" class="form-text text-muted">'+a.request_data[o].description+"</p>"),l.push(u)}if(l.length){for(var f=parseInt(Math.ceil(l.length/2),10),_=t('<form method="post" novalidate"></form>'),v=t('<div class="row"></div>'),g=t('<div class="col-md-6"></div>'),h=t('<div class="col-md-6"></div>'),o=0;o<f;)g.append(l[o]),o++;for(;o<l.length;)h.append(l[o]),o++;v.append(g),v.append(h),_.append("<p><strong>"+e.i18n.action_required+"</strong><br>"+e.i18n.action_required_description+"</p>"),_.append(v),_.append('<div class="result-submit-wrap"><button type="submit" class="btn btn-primary">'+e.i18n.submit+"</button></div>"),d.append(_),t("#results-loader").fadeOut(400),_.on("submit",function(a){a.preventDefault(),_.find(".result-submit-wrap > button").prop("disabled",!0).attr("aria-disabled","true"),t("#results-loader").fadeIn(400),r(e.get_form_values(_))})}n?i.html(d):(i.append(d),t("#results-log").append(i)),l.length||r()},handle_error:function(a,r){var n=t("#screen-reader-check-error");n.length?n.find("p").html(a):(n=t('<div id="screen-reader-check-error" class="alert alert-danger alert-dismissible fade" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="'+e.i18n.close+'"><span aria-hidden="true">&times;</span></button><h4 class="alert-heading">'+e.i18n.an_error_occurred+"</h4><p>"+a+"</p></div>"),t("#screen-reader-check-form").append(n),n.addClass("in")),r(!0)},remove_error:function(){var e=t("#screen-reader-check-error");e.length&&e.remove()},get_form_values:function(e){var t=e.serializeArray(),a={};for(var r in t)if(t[r].name.search(/\[/g)>=0){var n=t[r].name.replace("]","").split("[");a[n[0]]||(a[n[0]]={}),a[n[0]][n[1]]=t[r].value}else a[t[r].name]=t[r].value;return a},apply:function(e,a){a(t(e)),t(document).on("wp_theme.insert_content",function(r,n){"undefined"!=typeof n&&a(t(n).find(e))})},insert:function(e){t(document).trigger("wp_theme.insert_content",[e])}}),void e.init())}(window.wp_theme||{},jQuery,wp);